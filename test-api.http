### Test Metrics API

@baseUrl = http://localhost:3000
@contentType = application/json

### Health Check
GET {{baseUrl}}/

### Create Distance Metric - Meter
POST {{baseUrl}}/api/metrics
Content-Type: {{contentType}}
user-id: user123

{
  "date": "2024-01-15T10:30:00Z",
  "value": 1500,
  "unit": "meter"
}

### Create Distance Metric - Centimeter
POST {{baseUrl}}/api/metrics
Content-Type: {{contentType}}
user-id: user123

{
  "date": "2024-01-15T11:00:00Z",
  "value": 175,
  "unit": "centimeter"
}

### Create Distance Metric - Inch
POST {{baseUrl}}/api/metrics
Content-Type: {{contentType}}
user-id: user123

{
  "date": "2024-01-15T12:00:00Z",
  "value": 68,
  "unit": "inch"
}

### Create Distance Metric - Feet
POST {{baseUrl}}/api/metrics
Content-Type: {{contentType}}
user-id: user123

{
  "date": "2024-01-15T13:00:00Z",
  "value": 5.9,
  "unit": "feet"
}

### Create Distance Metric - Yard
POST {{baseUrl}}/api/metrics
Content-Type: {{contentType}}
user-id: user123

{
  "date": "2024-01-15T14:00:00Z",
  "value": 1.97,
  "unit": "yard"
}

### Create Temperature Metric - Celsius
POST {{baseUrl}}/api/metrics
Content-Type: {{contentType}}
user-id: user456

{
  "date": "2024-01-15T14:30:00Z",
  "value": 25.5,
  "unit": "celsius"
}

### Create Temperature Metric - Fahrenheit
POST {{baseUrl}}/api/metrics
Content-Type: {{contentType}}
user-id: user456

{
  "date": "2024-01-15T15:30:00Z",
  "value": 98.6,
  "unit": "fahrenheit"
}

### Create Temperature Metric - Kelvin
POST {{baseUrl}}/api/metrics
Content-Type: {{contentType}}
user-id: user456

{
  "date": "2024-01-15T16:00:00Z",
  "value": 298.15,
  "unit": "kelvin"
}

### Test Case-Insensitive Unit (lowercase)
POST {{baseUrl}}/api/metrics
Content-Type: {{contentType}}
user-id: user789

{
  "date": "2024-01-15T17:00:00Z",
  "value": 100,
  "unit": "meter"
}

### Test Case-Insensitive Unit (UPPERCASE)
POST {{baseUrl}}/api/metrics
Content-Type: {{contentType}}
user-id: user789

{
  "date": "2024-01-15T18:00:00Z",
  "value": 30,
  "unit": "CELSIUS"
}

### Test Case-Insensitive Unit (MixedCase)
POST {{baseUrl}}/api/metrics
Content-Type: {{contentType}}
user-id: user789

{
  "date": "2024-01-15T19:00:00Z",
  "value": 10,
  "unit": "FaHrEnHeIt"
}

### Test Missing Date (should fail)
POST {{baseUrl}}/api/metrics
Content-Type: {{contentType}}
user-id: user999

{
  "value": 200,
  "unit": "centimeter"
}

### Test Missing userId header (should fail)
POST {{baseUrl}}/api/metrics
Content-Type: {{contentType}}

{
  "value": 100,
  "unit": "meter"
}

### Test Missing Value (should fail)
POST {{baseUrl}}/api/metrics
Content-Type: {{contentType}}
user-id: user123

{
  "date": "2024-01-15T20:00:00Z",
  "unit": "meter"
}

### Test Missing Unit (should fail)
POST {{baseUrl}}/api/metrics
Content-Type: {{contentType}}
user-id: user123

{
  "date": "2024-01-15T21:00:00Z",
  "value": 100
}

### Test Invalid Unit (should fail)
POST {{baseUrl}}/api/metrics
Content-Type: {{contentType}}
user-id: user123

{
  "date": "2024-01-15T22:00:00Z",
  "value": 100,
  "unit": "invalid_unit"
}

###############################################
### GET METRICS API TESTS
###############################################

### Get All Metrics (with required date range)
GET {{baseUrl}}/api/metrics?startDate=2024-01-01T00:00:00Z&endDate=2024-12-31T23:59:59Z
user-id: user123

### Get Metrics - Filter by Type (DISTANCE)
GET {{baseUrl}}/api/metrics?type=DISTANCE&startDate=2024-01-01T00:00:00Z&endDate=2024-12-31T23:59:59Z
user-id: user123

### Get Metrics - Filter by Type (TEMPERATURE)
GET {{baseUrl}}/api/metrics?type=TEMPERATURE&startDate=2024-01-01T00:00:00Z&endDate=2024-12-31T23:59:59Z
user-id: user456

### Get Metrics - With Unit Conversion (to FEET)
GET {{baseUrl}}/api/metrics?unit=FEET&startDate=2024-01-01T00:00:00Z&endDate=2024-12-31T23:59:59Z
user-id: user123

### Get Metrics - With Unit Conversion (to FAHRENHEIT)
GET {{baseUrl}}/api/metrics?unit=FAHRENHEIT&startDate=2024-01-01T00:00:00Z&endDate=2024-12-31T23:59:59Z
user-id: user456

### Get Metrics - All Filters + Unit Conversion
GET {{baseUrl}}/api/metrics?type=DISTANCE&unit=METER&startDate=2024-01-01T00:00:00Z&endDate=2024-12-31T23:59:59Z
user-id: user123

### Get Metrics - Specific Date Range
GET {{baseUrl}}/api/metrics?startDate=2024-01-15T00:00:00Z&endDate=2024-01-15T23:59:59Z
user-id: user123

### Test Missing startDate (should fail)
GET {{baseUrl}}/api/metrics?endDate=2024-12-31T23:59:59Z
user-id: user123

### Test Missing endDate (should fail)
GET {{baseUrl}}/api/metrics?startDate=2024-01-01T00:00:00Z
user-id: user123

### Test Missing user-id header (should fail)
GET {{baseUrl}}/api/metrics?startDate=2024-01-01T00:00:00Z&endDate=2024-12-31T23:59:59Z

### Test Invalid Type (should fail)
GET {{baseUrl}}/api/metrics?type=INVALID&startDate=2024-01-01T00:00:00Z&endDate=2024-12-31T23:59:59Z
user-id: user123

### Test Invalid Unit (should fail)
GET {{baseUrl}}/api/metrics?unit=INVALID_UNIT&startDate=2024-01-01T00:00:00Z&endDate=2024-12-31T23:59:59Z
user-id: user123

